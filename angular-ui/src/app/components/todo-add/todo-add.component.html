<form [formGroup]="todoForm" (ngSubmit)="onSubmit()" class="add-task-form">
  <div class="input-group">
    <div class="input-wrapper" [class.focused]="isFocused">
      <!-- Search/Plus Icon -->
      <div class="input-icon">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
          <line x1="12" y1="5" x2="12" y2="19"></line>
          <line x1="5" y1="12" x2="19" y2="12"></line>
        </svg>
      </div>

      <input
        id="content"
        formControlName="content"
        placeholder="Add a new mission..."
        autocomplete="off"
        class="task-input"
        (focus)="onFocus()"
        (blur)="onBlur()">

      <!-- Desktop Shortcut Hint -->
      <div class="shortcut-hint" *ngIf="!isAdding && !todoForm.value.content">
        <span class="key">â†µ</span>
      </div>

      <button type="submit"
              [disabled]="todoForm.invalid"
              class="add-btn"
              [class.adding]="isAdding"
              [class.visible]="todoForm.value.content || isAdding">
        <span *ngIf="!isAdding">Add</span>
        <div *ngIf="isAdding" class="spinner"></div>
      </button>
    </div>

    <div class="input-error" *ngIf="todoForm.controls['content'].invalid && (todoForm.controls['content'].dirty || todoForm.controls['content'].touched)">
      <span *ngIf="todoForm.controls['content'].errors?.['required']">Content is required.</span>
    </div>
  </div>
</form>
